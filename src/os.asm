// os.asm

macro os_saveRegistersFull() {
    addiu   sp, sp,-0x0080
    sw      at, 0x0004(sp)
    sw      v0, 0x0008(sp)
    sw      v1, 0x000C(sp)
    sw      a0, 0x0010(sp)
    sw      a1, 0x0014(sp)
    sw      a2, 0x0018(sp)
    sw      a3, 0x001C(sp)
    sw      t0, 0x0020(sp)
    sw      t1, 0x0024(sp)
    sw      t2, 0x0028(sp)
    sw      t3, 0x002C(sp)
    sw      t4, 0x0030(sp)
    sw      t5, 0x0034(sp)
    sw      t6, 0x0038(sp)
    sw      t7, 0x003C(sp)
    sw      s0, 0x0040(sp)
    sw      s1, 0x0044(sp)
    sw      s2, 0x0048(sp)
    sw      s3, 0x004C(sp)
    sw      s4, 0x0050(sp)
    sw      s5, 0x0054(sp)
    sw      s6, 0x0058(sp)
    sw      s7, 0x005C(sp)
    sw      t8, 0x0060(sp)
    sw      t9, 0x0064(sp)
    sw      k0, 0x0068(sp)
    sw      k1, 0x006C(sp)
    sw      gp, 0x0070(sp)
    sw      sp, 0x0074(sp)
    sw      s8, 0x0078(sp)
    sw      ra, 0x007C(sp)
}

macro os_restoreRegistersFull() {
    lw      at, 0x0004(sp)
    lw      v0, 0x0008(sp)
    lw      v1, 0x000C(sp)
    lw      a0, 0x0010(sp)
    lw      a1, 0x0014(sp)
    lw      a2, 0x0018(sp)
    lw      a3, 0x001C(sp)
    lw      t0, 0x0020(sp)
    lw      t1, 0x0024(sp)
    lw      t2, 0x0028(sp)
    lw      t3, 0x002C(sp)
    lw      t4, 0x0030(sp)
    lw      t5, 0x0034(sp)
    lw      t6, 0x0038(sp)
    lw      t7, 0x003C(sp)
    lw      s0, 0x0040(sp)
    lw      s1, 0x0044(sp)
    lw      s2, 0x0048(sp)
    lw      s3, 0x004C(sp)
    lw      s4, 0x0050(sp)
    lw      s5, 0x0054(sp)
    lw      s6, 0x0058(sp)
    lw      s7, 0x005C(sp)
    lw      t8, 0x0060(sp)
    lw      t9, 0x0064(sp)
    lw      k0, 0x0068(sp)
    lw      k1, 0x006C(sp)
    lw      gp, 0x0070(sp)
    lw      sp, 0x0074(sp)
    lw      s8, 0x0078(sp)
    lw      ra, 0x007C(sp)
    addiu   sp, sp, 0x0080
}

macro os_saveRegisters() {
    addiu   sp, sp,-0x0040
    sw      at, 0x0004(sp)
    sw      v0, 0x0008(sp)
    sw      v1, 0x000C(sp)
    sw      a0, 0x0010(sp)
    sw      a1, 0x0014(sp)
    sw      a2, 0x0018(sp)
    sw      a3, 0x001C(sp)
    sw      t0, 0x0020(sp)
    sw      t1, 0x0024(sp)
    sw      t2, 0x0028(sp)
    sw      t3, 0x002C(sp)
    sw      t4, 0x0030(sp)
    sw      t5, 0x0034(sp)
    sw      t6, 0x0038(sp)
    sw      t7, 0x003C(sp)
}

macro os_restoreRegisters() {
    lw      at, 0x0004(sp)
    lw      v0, 0x0008(sp)
    lw      v1, 0x000C(sp)
    lw      a0, 0x0010(sp)
    lw      a1, 0x0014(sp)
    lw      a2, 0x0018(sp)
    lw      a3, 0x001C(sp)
    lw      t0, 0x0020(sp)
    lw      t1, 0x0024(sp)
    lw      t2, 0x0028(sp)
    lw      t3, 0x002C(sp)
    lw      t4, 0x0030(sp)
    lw      t5, 0x0034(sp)
    lw      t6, 0x0038(sp)
    lw      t7, 0x003C(sp)
    addiu   sp, sp, 0x0040
}
